{% extends 'base.html' %}
{% load static %}

{% block title %}Log In â€” Easytrip{% endblock %}

{% block content %}
<section class="form-section" style="max-width: 500px; margin: 4rem auto 8rem;">
    <div class="form-header text-center" style="margin-bottom: 2rem;">
        <span class="pill-tag" style="margin-bottom: 1rem;">Easytrip</span>
        <h2 style="font-size: 2.5rem; margin-bottom: 0.5rem;">Welcome back</h2>
        <p style="color: #666;">Sign in to continue planning your trips</p>
    </div>

    <div class="trip-card-form" style="padding: 3rem;">
        {% if error %}
        <div class="login-error"
            style="display: flex; align-items: center; gap: 10px; padding: 12px 16px; background-color: #fef2f2; border: 1px solid #fecaca; border-radius: 10px; color: #dc2626; font-size: 0.9rem; margin-bottom: 1.5rem;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                style="flex-shrink:0">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="15" y1="9" x2="9" y2="15"></line>
                <line x1="9" y1="9" x2="15" y2="15"></line>
            </svg>
            <span>{{ error }}</span>
        </div>
        {% endif %}

        <form method="POST" action="{% url 'login' %}">
            {% csrf_token %}
            <div class="form-group full-width" style="margin-bottom: 1.5rem;">
                <label for="username">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        style="vertical-align: middle; margin-right: 4px; color: var(--primary-green)">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    Username
                </label>
                <input type="text" id="username" name="username" placeholder="Enter your username"
                    value="{{ username|default:'' }}" required autofocus>
            </div>

            <div class="form-group full-width" style="margin-bottom: 1.5rem;">
                <label for="password">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        style="vertical-align: middle; margin-right: 4px; color: var(--primary-green)">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    Password
                </label>
                <input type="password" id="password" name="password" placeholder="Enter your password" required>
            </div>

            <button type="submit" class="btn btn-primary dark-green-btn"
                style="width: 100%; margin-top: 1rem; padding: 16px; font-size: 1rem;">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    style="vertical-align: text-bottom; margin-right: 8px;">
                    <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
                    <polyline points="10 17 15 12 10 7"></polyline>
                    <line x1="15" y1="12" x2="3" y2="12"></line>
                </svg>
                Sign In
            </button>
        </form>

        <div class="text-center" style="margin-top: 2rem; font-size: 0.95rem; color: #666;">
            <p>Don't have an account? <a href="{% url 'signup' %}"
                    style="color: var(--primary-green); font-weight: 500; text-decoration: none;">Sign up</a></p>
        </div>
    </div>
</section>
{% endblock %}